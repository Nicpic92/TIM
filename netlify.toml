# Netlify Build & Deploy Configuration

[build]
  # This command is run from the root of the repository.
  # It will execute the "build" script in the frontend workspace.
  command = "npm run build"
  
  # Directory where our serverless functions are located.
  functions = "netlify/functions"
  
  # The directory to publish after a successful build.
  # Vite builds the frontend into the 'dist' folder.
  publish = "frontend/dist"

# Redirect rule to proxy API requests to our serverless functions.
# This allows the frontend to call functions at the same origin.
[[redirects]]
  from = "/.netlify/functions/*"
  to = "/.netlify/functions/:splat"
  status = 200

# Configuration for local development using the Netlify CLI (`netlify dev`).
[dev]
  # Tells the CLI we are proxying to a frontend framework dev server.
  framework = "#static"
  
  # The port that Vite (our frontend dev server) runs on by default.
  targetPort = 5173
  
  # The directory to publish, same as in the [build] context.
  publish = "frontend/dist"
